---
interface Props {
  class?: string;
  variant?: 'default' | 'white';
}

const { class: className, variant = 'default' } = Astro.props;

// Raster logo assets with multiple formats for optimal delivery
const logo = {
  light: {
    avif: "/images/logo-seo-duisburg.avif",
    webp: "/images/logo-seo-duisburg.webp",
    png: "/images/logo-seo-duisburg.png",
  },
  dark: {
    avif: "/images/logo-seo-duisburg-weiss.avif",
    webp: "/images/logo-seo-duisburg-weiss.webp",
    png: "/images/logo-seo-duisburg-weiss.png",
  }
};
---

<a 
  href="/" 
  class:list={[
    "block transition-opacity duration-200 hover:opacity-90",
    className
  ]} 
  aria-label="SEO Duisburg"
>
  {variant === 'default' ? (
    <>
      <!-- Light by default -->
      <picture class="block dark:hidden">
        <source srcset={logo.light.avif} type="image/avif" />
        <source srcset={logo.light.webp} type="image/webp" />
        <img
          src={logo.light.png}
          alt="SEO Duisburg Logo"
          title="SEO Duisburg - Ihre SEO Agentur in Halle"
          class="h-14 w-auto"
          width="150"
          height="50"
          loading="eager"
          decoding="async"
        />
      </picture>

      <!-- Switch to white logo when Tailwind dark class is active -->
      <picture class="hidden dark:block">
        <source srcset={logo.dark.avif} type="image/avif" />
        <source srcset={logo.dark.webp} type="image/webp" />
        <img
          src={logo.dark.png}
          alt="SEO Duisburg Logo"
          title="SEO Duisburg - Ihre SEO Agentur in Halle"
          class="h-14 w-auto"
          width="150"
          height="50"
          loading="eager"
          decoding="async"
        />
      </picture>
    </>
  ) : (
    <picture>
      <source srcset={logo.dark.avif} type="image/avif" />
      <source srcset={logo.dark.webp} type="image/webp" />
      <img
        src={logo.dark.png}
        alt="SEO Duisburg Logo"
        title="SEO Duisburg - Ihre SEO Agentur in Halle"
        class="h-12 w-auto"
        width="150"
        height="50"
        loading="eager"
        decoding="async"
      />
    </picture>
  )}
</a>